<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Markdown Parser Documentation</title>
  <style>
    body {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
    }
    pre {
      background: #f6f8fa;
      padding: 1rem;
      border-radius: 4px;
      overflow-x: auto;
    }
    code {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 0.9em;
    }
    blockquote {
      margin: 0;
      padding-left: 1rem;
      border-left: 4px solid #ddd;
      color: #666;
    }
    img {
      max-width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
<h1>Markdown Parser</h1><p>A robust and extensible markdown parser that creates an Abstract Syntax Tree (AST) from markdown text. The parser supports a variety of markdown features and provides a visitor pattern for traversing and transforming the AST.</p><h2>Architecture</h2><p><img src="docs/images/architecture.png" alt="Architecture Diagram"></p><p>The Markdown Parser follows a modular architecture that separates concerns into distinct components:</p><ul><li>The Parser transforms markdown text into an Abstract Syntax Tree (AST)</li><li>The AST consists of Block Nodes (structural elements) and Inline Nodes (text formatting)</li><li>Visitors can traverse the AST to perform transformations or analysis</li><li>Renderers (like the HTML Renderer) convert the AST into the desired output format</li></ul><h2>Features</h2><ul><li>Block Elements<strong>Block Elements</strong><ul><li>Headers (h1-h6)</li><li>Blockquotes</li><li>Code blocks (with language support)</li><li>Horizontal rules</li><li>Paragraphs</li></ul></li><li>Inline Elements<strong>Inline Elements</strong><ul><li>Bold text (<code>**</code> or <code>__</code>)</li><li>Italic text (<code>*</code> or <code>_</code>)</li><li>Inline code (<code></code> <code> </code>`)</li><li>Links (<code>[text](url)</code> with optional titles)</li><li>Images (<code>![alt](src)</code> with support for nested brackets)</li><li>Citations (<code>[123]</code>)</li></ul></li></ul><h2>Installation</h2><pre><code class="language-bash">npm install @lbsa71/markdown-parser</code></pre><h2>Basic Usage</h2><pre><code class="language-typescript">import { MarkdownParser } from &#39;@lbsa71/markdown-parser&#39;;

const parser = new MarkdownParser();
const ast = parser.parse(&#39;# Hello World\n\nThis is a **bold** statement.&#39;);

console.log(JSON.stringify(ast, null, 2));</code></pre><h2>AST Structure</h2><p>The parser generates an AST with two main types of nodes:</p><h3>Block Nodes</h3><ul><li><code>document</code>: Root node containing all other nodes</li><li><code>paragraph</code>: Basic text container</li><li><code>header1</code> through <code>header6</code>: Section headers</li><li><code>blockquote</code>: Quoted text</li><li><code>codeBlock</code>: Code blocks with optional language</li></ul><h3>Inline Nodes</h3><ul><li><code>text</code>: Plain text</li><li><code>bold</code>: Bold text</li><li><code>italic</code>: Italic text</li><li><code>code</code>: Inline code</li><li><code>link</code>: Hyperlinks</li><li><code>image</code>: Images</li><li><code>citation</code>: Citation references</li></ul><h2>Visitor Pattern</h2><p>The parser supports a visitor pattern for traversing and transforming the AST:</p><pre><code class="language-typescript">import { MarkdownParser, NodeType } from &#39;@lbsa71/markdown-parser&#39;;

const parser = new MarkdownParser();
const ast = parser.parse(&#39;# Title\nHello **world**&#39;);

const visited: string[] = [];
const visitor = (type: NodeType) =&gt; visited.push(type);

parser.visit(ast, visitor);
// visited = [&#39;document&#39;, &#39;header1&#39;, &#39;text&#39;, &#39;paragraph&#39;, &#39;text&#39;, &#39;bold&#39;, &#39;text&#39;]</code></pre><h2>Example</h2><p>See the <a href="./examples">examples</a> directory for more detailed usage examples, including:</p><ul><li>HTML rendering</li><li>Custom AST transformations</li><li>Advanced visitor pattern usage</li></ul><h2>API Reference</h2><h3>MarkdownParser</h3><pre><code class="language-typescript">class MarkdownParser {
  constructor(options?: ParserOptions);
  parse(input: string): BlockNode;
  visit(node: Node, visitor: Visitor): void;
}</code></pre><h3>Types</h3><pre><code class="language-typescript">type NodeType = BlockNodeType | InlineNodeType;

interface Node {
  type: NodeType;
  content: string;
  raw: string;
  position: Position;
  metadata?: NodeMetadata;
}

type Visitor = (type: NodeType) =&gt; void;</code></pre><h2>Contributing</h2><p>Contributions are welcome! Please feel free to submit a Pull Request. </p>
</body>
</html>
